<div class="flex items-start mb-4 pb-4 border-b border-border last:border-b-0 last:pb-0">
  <%= image_tag comment.user.avatar, alt: comment.user.username, class: "h-10 w-10 rounded-full object-cover mr-3 flex-shrink-0 min-h-[40px] bg-muted animate-pulse", loading: "lazy" %>
  <div class="flex-grow">
    <p class="text-sm leading-tight">
      <%= link_to comment.user.username, user_path(comment.user), class: "font-semibold text-primary hover:underline mr-1" %>
      <span class="text-foreground"><%= comment.content %></span>
    </p>
    <small class="text-xs text-muted-foreground mt-1 block"><%= time_ago_in_words(comment.created_at) %> ago</small>
    <% if comment.user == current_user %>
      <%= button_to "Delete", post_comment_path(comment.post, comment), method: :delete, data: { confirm: "Are you sure?" }, class: "inline-flex items-center justify-center whitespace-nowrap rounded-md text-xs font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-7 px-2 py-1 mt-2" %>
    <% end %>
  </div>
</div>