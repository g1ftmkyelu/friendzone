<% if flash[:notice] %>
  <div class="bg-green-100 text-green-800 border border-green-200 rounded-md px-4 py-2 font-medium text-center mb-4"><%= flash[:notice] %></div>
<% end %>
<% if flash[:alert] %>
  <div class="bg-red-100 text-red-800 border border-red-200 rounded-md px-4 py-2 font-medium text-center mb-4"><%= flash[:alert] %></div>
<% end %>

<div class="grid grid-cols-1 lg:grid-cols-[minmax(400px,600px)_350px] gap-6 p-6 max-w-7xl mx-auto">
  <div class="flex flex-col gap-6">
    <div class="bg-card text-card-foreground p-6 rounded-lg shadow-md">
      <h2 class="text-2xl font-semibold text-foreground mb-5">Create New Post</h2>
      <%= render 'posts/form', post: @post %>
    </div>

    <h2 class="text-2xl font-semibold text-foreground mt-4 mb-2">News Feed</h2>
    <div class="grid gap-6">
      <% if @posts.any? %>
        <% @posts.each do |post| %>
          <%= render 'posts/post', post: post %>
        <% end %>
      <% else %>
        <p class="text-center text-muted-foreground text-lg">No posts yet. Start by creating one!</p>
      <% end %>
    </div>
  </div>

  <div class="lg:sticky lg:top-20 self-start">
    <%= render 'home/recommendation_panel', recommended_users: @recommended_users %>
  </div>
</div>